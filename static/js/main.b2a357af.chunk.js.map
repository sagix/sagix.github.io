{"version":3,"sources":["Landing/logo.svg","Templates/Period/weather-night.svg","Templates/Period/weather-sunny.svg","Templates/Period/weather-sunset-up.svg","Templates/Period/weather-sunset-down.svg","Templates/Period/weather-none.svg","Templates/Image/empty.svg","Templates/Fx/auto-fix.svg","Landing/Header.js","Landing/NewProject.js","Landing/ListProject.js","Landing/QuotaProgress.js","Data/FileReader.js","Data/images.js","Data/csv.js","Data/index.js","Data/uuidv4.js","Landing/index.js","Project/Colors.js","Project/Configuration.js","Templates/Factory.js","Project/Tiles.js","Project/Form.js","Project/index.js","App.js","index.js","customServiceWorker.js","Templates/Container.js","Templates/Sequence.js","Templates/Period/index.js","Templates/Image/index.js","Templates/Fx/index.js","Templates/FontSizeAdjuster.js","Templates/Action.js","Templates/Large/index.js","Templates/Small/index.js"],"names":["module","exports","__webpack_require__","p","Header","Component","render","react_default","a","createElement","className","src","logo","alt","NewProject","type","id","webkitdirectory","toString","directory","multiple","onChange","event","this","props","onNewProject","target","files","form","reset","htmlFor","ListProject","value","map","project","img","data","url","key","es","to","name","onClick","preventDefault","onDelete","QuotaProgress","humanFileSize","size","i","Math","floor","log","pow","toFixed","max","_createReader","resolve","reject","file","reader","FileReader","onerror","abort","Error","onload","result","Images","constructor","identifier","execute","imageType","Promise","all","Array","from","filter","test","readAsArrayBuffer","then","fileResults","fileResult","_writeFile","clear","caches","delete","open","cache","h","Headers","append","put","Request","Response","status","statusText","headers","catch","error","_","Csv","length","Papa","parse","complete","parsed","r","parseId","push","sequence","action","place","trim","periode","fx","undefined","trimedId","match","Repository","[object Object]","colors","list","_projects","get","projects","localStorage","setItem","JSON","stringify","update","item","Object","keys","save","updateColor","forEach","updateFontFamily","fontFamily","updateTemplate","template","add","replace","c","crypto","getRandomValues","Uint8Array","_name","results","_results","slicedToArray","images","_mergeDateWithImages","_calculateColors","getItem","d","startsWith","assign","unique","Set","defaultName","relativePath","webkitRelativePath","split","Landing","super","state","quotas","repository","componentDidMount","_checkQuotas","setState","navigator","storage","estimate","quota","usage","console","onDeleteProject","Landing_Header","src_Landing_NewProject","src_Landing_ListProject","src_Landing_QuotaProgress","ColorWrapper","args","color","pickerVisible","handleColorChange","hex","onChangeComplete","onMouseEnter","onMouseLeave","style","padding","borderRadius","backgroundColor","display","width","height","position","right","lib","Colors","Colors_ColorWrapper","onColorChange","Configuration","onFontFamilyChange","componentDidUpdate","prevProps","prevState","title","onSubmit","checked","Templates_Small","onTile","Templates_Large","onColorDistributionChange","Project_Colors","TemplateFactory","renderImage","Small","require","default","React","Large","Tiles","image","colorDistribution","Factory","Form","escFunction","keyCode","close","handleSubmit","onSave","mergePropsWithState","handleInputChange","onCancel","handleClose","document","addEventListener","componentWillUnmount","removeEventListener","fromState","fromProps","_this$mergePropsWithS","places","sort","stopPropagation","defaultValue","placeholder","rows","Project","loadData","params","e","src_Project_Form","Tiles_Tiles","color_distribution","src_Project_Configuration","full","App","exact","path","component","ReactDOM","src_App_0","getElementById","window","serviceWorker","register","registration","scope","err","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","Container","children","Sequence","background","_weather_night_svg__WEBPACK_IMPORTED_MODULE_1__","_weather_night_svg__WEBPACK_IMPORTED_MODULE_1___default","_weather_sunny_svg__WEBPACK_IMPORTED_MODULE_2__","_weather_sunny_svg__WEBPACK_IMPORTED_MODULE_2___default","_weather_sunset_up_svg__WEBPACK_IMPORTED_MODULE_3__","_weather_sunset_up_svg__WEBPACK_IMPORTED_MODULE_3___default","_weather_sunset_down_svg__WEBPACK_IMPORTED_MODULE_4__","_weather_sunset_down_svg__WEBPACK_IMPORTED_MODULE_4___default","_weather_none_svg__WEBPACK_IMPORTED_MODULE_5__","_weather_none_svg__WEBPACK_IMPORTED_MODULE_5___default","Periode","_periodeToClassName","_periodeToSrc","_toSingleLetter","svgM","svgS","svgJ","svgN","svgNull","toLowerCase","_empty_svg__WEBPACK_IMPORTED_MODULE_2__","_empty_svg__WEBPACK_IMPORTED_MODULE_2___default","Fx","svgEmpty","_auto_fix_svg__WEBPACK_IMPORTED_MODULE_1__","_auto_fix_svg__WEBPACK_IMPORTED_MODULE_1___default","svgFx","FontSizeAdjuster","min","apply","node","fontSize","_hasOverflow","parentNode","_recApplyFontSize","minSize","maxSize","halfSize","scrollHeight","clientHeight","Action","textNode","createRef","fontSizeAdjuster","current","ref","__webpack_exports__","_Container__WEBPACK_IMPORTED_MODULE_1__","_Sequence__WEBPACK_IMPORTED_MODULE_2__","_Period__WEBPACK_IMPORTED_MODULE_3__","_Action__WEBPACK_IMPORTED_MODULE_4__","_Image__WEBPACK_IMPORTED_MODULE_5__","_Fx__WEBPACK_IMPORTED_MODULE_6__","LargeImage","handleClick","_this$props$file","SmallImage"],"mappings":"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","file":"static/js/main.b2a357af.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.743ec13d.svg\";","module.exports = __webpack_public_path__ + \"static/media/weather-night.eeafdbc3.svg\";","module.exports = __webpack_public_path__ + \"static/media/weather-sunny.fb4f8a6b.svg\";","module.exports = __webpack_public_path__ + \"static/media/weather-sunset-up.65e6d39d.svg\";","module.exports = __webpack_public_path__ + \"static/media/weather-sunset-down.2a4daadf.svg\";","module.exports = __webpack_public_path__ + \"static/media/weather-none.d2d3cc2f.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty.e1de1093.svg\";","module.exports = __webpack_public_path__ + \"static/media/auto-fix.921a0631.svg\";","import React, { Component } from 'react';\nimport logo from './logo.svg';\nclass Header extends Component{\n    render(){\n            return (\n                <header className=\"App-header\">\n                  <img src={logo} className=\"App-logo\" alt=\"logo\" />\n                  <h1 className=\"App-title\">Welcome to Photogram</h1>\n                  <p>This is the new Photogram</p>\n                </header>\n            )\n        }\n}\n\nexport default Header;\n","import React, { Component } from 'react';\nimport './NewProject.css'\n\nclass NewProject extends Component{\n\n    render(){\n        return (\n            <form>\n                <input type=\"file\" id=\"new-project-file\"\n                    webkitdirectory={true.toString()}\n                    directory={true.toString()}\n                    multiple={true}\n                    onChange={(event) => {\n                        this.props.onNewProject(event.target.files)\n                        event.target.form.reset()\n                    }}/>\n                <label htmlFor=\"new-project-file\" id=\"new-project-label\">Nouveau projet</label>\n            </form>\n        )\n    }\n}\n\nexport default NewProject;\n","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport './ListProject.css';\nclass ListProject extends Component{\n\n    render(){\n        return (\n            <ul id=\"grid\">{this.props.value.map((project) => {\n                let img = project.data[0];\n                let src\n                if(img){\n                    src = img.url\n                }\n                return (\n                  <li key={project.key}>\n                    <Link to={\"/project/\" + project.key}>\n                        <div className=\"picture\"><img alt=\"project cover\" src={src}/></div>\n                        <span>{project.name}</span>\n                        <button className=\"btn-delete\" onClick={(event) => {\n                            event.preventDefault()\n                            this.props.onDelete(project.key)\n                        }}>&#x2715;</button>\n                    </Link>\n                  </li>\n                );\n            })}</ul>\n        )\n    }\n}\n\nexport default ListProject;\n","import React, { Component } from 'react';\nimport './QuotaProgress.css'\n\nclass QuotaProgress extends Component{\n\n    humanFileSize(size) {\n        var i = size === 0 ? 0 :Math.floor( Math.log(size) / Math.log(1024) );\n        return ( size / Math.pow(1024, i) ).toFixed(2) * 1 + ' ' + ['B', 'kB', 'MB', 'GB', 'TB'][i];\n    };\n\n    render(){\n        return (\n            <div className=\"quota-progress-container\">\n                <span>Utilisation de l&apos;espace disque&nbsp;: </span>\n                <progress max={this.props.max} value={this.props.value}/>\n                <em>{this.humanFileSize(this.props.value)} / {this.humanFileSize(this.props.max)}</em>\n            </div>\n        )\n    }\n}\n\nexport default QuotaProgress;\n","function readAsArrayBuffer(file){\n    return new Promise((resolve, reject) => {\n        _createReader(resolve, reject, file).readAsArrayBuffer(file);\n    });\n}\n\nfunction readAsText(file){\n    return new Promise((resolve, reject) => {\n        _createReader(resolve, reject, file).readAsText(file);\n    });\n}\n\nfunction _createReader(resolve, reject, file){\n    const reader = new FileReader();\n    reader.onerror = () => {\n        reader.abort();\n        reject(new Error(\"Problem parsing input file.\"));\n    };\n    reader.onload = () => {\n        resolve({file: file, result:reader.result});\n    };\n    return reader\n}\n\nexport {readAsText, readAsArrayBuffer}\n","import {readAsArrayBuffer} from './FileReader';\n\nclass Images{\n    constructor(identifier){\n        this.identifier = identifier\n    }\n\n    execute(files){\n        let imageType = /^image\\//;\n        return Promise.all(\n            Array.from(files)\n            .filter(file => imageType.test(file.type))\n            .map(file => readAsArrayBuffer(file))\n        ).then ( fileResults =>\n            Promise.all(\n                fileResults.map(fileResult => this._writeFile(fileResult))\n            )\n        )\n    }\n\n    clear(){\n        return caches.delete('image-cache-'+this.identifier)\n    }\n\n    _writeFile(event){\n        return caches.open('image-cache-'+this.identifier)\n        .then( cache => {\n            let h = new Headers()\n            h.append(\"Content-Type\", event.file.type)\n            h.append(\"Content-Length\", event.file.size)\n\n            return cache.put(\n                    new Request(`/project/${this.identifier}/images/${event.file.name}/`),\n                    new Response(event.result, {\n                        status: 200,\n                        statusText: \"From Cache\",\n                        headers: h\n                })).catch(error => Promise.reject(error))\n\n        }).then(_ =>{\n            return {\n                name: event.file.name,\n                url:`/project/${this.identifier}/images/${event.file.name}/`\n            }\n        })\n\n    }\n}\n\nexport default Images\n","import Papa from 'papaparse';\nclass Csv{\n\n    execute(files){\n        let result = Array.from(files).filter(file => file.name === \"data.csv\")\n        if(result.length === 0){\n            return Promise.reject(new Error('Could not found data.csv'))\n        }\n        return new Promise((resolve, reject) => Papa.parse(result[0], {\n            complete:resolve,\n            error:reject\n        }))\n        .then(parsed => {\n            var result = [];\n            for (let r of parsed.data) {\n                const id = this.parseId(r[0])\n                if(id !== null){\n                    result.push({\n                        id: id,\n                        sequence: id,\n                        action: r[1],\n                        place: (r[2] || \"\").trim(),\n                        periode: (r[3] || \"\").trim(),\n                        fx: r[4],\n                    })\n                }\n            }\n            return result\n        })\n    }\n\n    parseId(id){\n        if(id === undefined || id === null){\n            return null\n        }\n        const trimedId = id.trim()\n        const pattern = /^\\d/\n        if(trimedId.match(pattern) !== null){\n            return trimedId\n        }\n        return null\n    }\n}\n\nexport default Csv\n","import Images from './images'\nimport Csv from './csv'\nimport {uuidv4} from './uuidv4.js'\n\nclass Repository{\n    colors = [\n        '#F44336','#E91E63','#9C27B0','#3F51B5',\n        '#2196F3','#03A9F4','#00BCD4','#009688',\n        '#4CAF50','#8BC34A','#CDDC39','#FFEB3B',\n        '#FFC107','#FF9800','#FF5722','#795548'\n    ]\n\n    list(){\n        return Promise.resolve(this._projects)\n    }\n\n    get(id){\n        let result = this._projects.filter(project => project.key === id)\n        if(result.length === 0){\n            return Promise.reject(new Error(`Could not found project with id=${id}`))\n        }\n        return Promise.resolve(result[0])\n    }\n\n    delete(id){\n        var projects = this._projects\n        let result = projects.filter(project => project.key !== id)\n        if(result.length === projects.length){\n            return Promise.reject(new Error(`Could not found project with id=${id}`))\n        }\n        try{\n            localStorage.setItem('projects', JSON.stringify(result));\n            return Promise.resolve(result)\n                .then(new Images(id).clear())\n        }catch (error){\n            return Promise.reject(error)\n        }\n    }\n\n    update(id, data){\n        return this.get(id).then((project) => {\n                project.data = project.data.map(item => {\n                    if(item.id === data.id){\n                        return {\n                            id: data.id,\n                            url: item.url,\n                            sequence: data.sequence,\n                            action: data.action,\n                            place: data.place,\n                            periode: data.periode,\n                            fx: data.fx,\n                        }\n                    }else{\n                        return item\n                    }\n                })\n\n                if(data.place && project.colors[data.place] === undefined){\n                    project.colors[data.place] = this.colors[Object.keys(project.colors).length]\n                }\n\n                this.save(id, project)\n        })\n    }\n\n    updateColor(id, colors){\n        return this.get(id).then((project) => {\n                Object.keys(colors).forEach((key) => {\n                    project.colors[key] = colors[key]\n                })\n\n                this.save(id, project)\n        })\n    }\n\n    updateFontFamily(id, fontFamily){\n        return this.get(id).then((project) => {\n                project.fontFamily = fontFamily;\n                this.save(id, project)\n        })\n    }\n\n    updateTemplate(id, template){\n        return this.get(id).then((project) => {\n                project.template = template;\n                this.save(id, project)\n        })\n    }\n\n    save(id, project){\n        const projects = this._projects.map(p => {\n            if(project.key === p.key){\n                return project\n            }else{\n                return p\n            }\n        })\n        localStorage.setItem('projects', JSON.stringify(projects));\n    }\n\n    add(files){\n        var projects = this._projects\n        var identifier = uuidv4()\n        var name = this._name(files, `Project (${projects.length})`)\n        return Promise.all([\n            new Images(identifier).execute(files),\n            new Csv().execute(files)\n        ]).then( results => {\n            let [images, data] = results\n\n            projects.push({\n              key: identifier,\n              name: name,\n              data: this._mergeDateWithImages(data, Array.from(images)),\n              colors: this._calculateColors(data),\n              template: \"small\",\n            })\n            try{\n                localStorage.setItem('projects', JSON.stringify(projects));\n                return projects\n            }catch (error){\n                return Promise.reject(error)\n            }\n\n        })\n    }\n\n    get _projects(){\n        return JSON.parse(localStorage.getItem('projects')) || []\n    }\n\n    _mergeDateWithImages(data, images){\n        return data.map(d =>{\n            let results = images.filter(i => i.name.startsWith(`${d.id}.`))\n            if(results.length === 0){\n                return d\n            }else{\n                return Object.assign(d, {\n                    url: results[0].url\n                })\n            }\n        })\n    }\n\n    _calculateColors(data){\n        let unique = [...new Set(data.map(d => d.place).filter(p => p !== null && p !== \"\"))]\n        return Object.assign({}, ...unique.map((p, i) => ({[p]: this.colors[i]})))\n    }\n\n    _name(files, defaultName){\n        if(files.length === 0){\n            return defaultName\n        }\n        let relativePath = files[0].webkitRelativePath\n        if(relativePath){\n            let name = relativePath.split('/')[0]\n            if(name){\n                return name\n            }\n        }\n        return defaultName\n    }\n\n}\n\nexport default Repository\n","function uuidv4() {\n  return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\n    (((c ^ crypto.getRandomValues(new Uint8Array(1))[0]) & 15) >> c / 4).toString(16)\n  )\n}\n\nexport {uuidv4}\n","import React, { Component } from 'react';\nimport Header from './Header';\nimport NewProject from './NewProject';\nimport ListProject from './ListProject';\nimport QuotaProgress from './QuotaProgress';\nimport Repository from '../Data';\nimport '../styles.css'\n\nclass Landing extends Component{\n    constructor(props){\n        super(props)\n        this.state ={\n            projects:[],\n            quotas:{max: 0, value: 0}\n        }\n        this.repository = new Repository()\n    }\n\n    componentDidMount(){\n        this._checkQuotas()\n        this.repository.list()\n        .then((projects) => this.setState({projects: projects}))\n\n    }\n\n    _checkQuotas(){\n        navigator.storage.estimate()\n        .then(estimate =>\n            this.setState(\n                Object.assign(this.state, {quotas: {\n                    max: estimate.quota,\n                    value: estimate.usage\n                }})\n            )\n        );\n    }\n\n    onNewProject(files){\n        this.repository.add(files)\n        .then((projects) => this.setState({projects: projects}))\n        .then(_ => this._checkQuotas())\n        .catch(error => console.log(error))\n    }\n\n    onDeleteProject(key){\n        this.repository.delete(key)\n        .then((projects) => this.setState({projects: projects}))\n        .then(_ => this._checkQuotas())\n        .catch(error => console.log(error))\n    }\n\n    render(){\n            return (\n                <div className=\"landing-container\">\n                    <Header/>\n                    <NewProject onNewProject={files => this.onNewProject(files)} />\n                    <ListProject value={this.state.projects} onDelete={(key) => this.onDeleteProject(key)}/>\n                    <QuotaProgress value={this.state.quotas.value} max={this.state.quotas.max}/>\n                </div>\n            )\n        }\n}\n\nexport default Landing;\n","import React, { Component } from 'react';\nimport { SketchPicker } from 'react-color';\n\nclass ColorWrapper extends Component{\n    state = {\n        color: this.props.color,\n        pickerVisible: false,\n  }\n\n  handleColorChange = (color, event) => {\n      this.setState({color: color.hex})\n      this.props.onChangeComplete(color, event)\n  }\n\n  render() {\n    const onTogglePicker = () => this.setState({ pickerVisible: !this.state.pickerVisible })\n    const hidePicker = () => this.setState({ pickerVisible: false })\n    const showPicker = () => this.setState({ pickerVisible: true })\n\n    return (\n      <div onMouseEnter={ showPicker } onMouseLeave={ hidePicker }>\n        <button onClick={ onTogglePicker }\n         style={{\n             padding:2,\n             borderRadius:4\n        }}><span style={{\n            color: \"transparent\",\n            backgroundColor:this.state.color,\n            display:\"block\",\n            width:24,\n            height:24,\n            borderRadius:2\n        }}></span></button>\n\n        { this.state.pickerVisible && (\n          <div style={{\n              position: 'absolute',\n              right:0,\n           }}>\n            <SketchPicker\n              color={this.state.color}\n              onChangeComplete={ this.handleColorChange }\n            />\n          </div>\n        ) }\n      </div>\n    )\n  }\n}\n\n\nclass Colors extends Component{\n\n    handleChangeComplete\n\n    render(){\n\n        if(this.props.colors){\n            return (\n                <table className=\"colors\">\n                    <tbody>\n                    {\n                        Object.keys(this.props.colors).map((key) => {\n                            return(\n                                <tr key={key}><td>\n                                <ColorWrapper\n                                    color={ this.props.colors[key] }\n                                    onChangeComplete={ (color, event) => {\n                                        this.props.onColorChange({[key]: color.hex})\n                                     }}\n                                  />\n                                </td>\n                                <td>{key}</td>\n                                </tr>\n                            )\n                        })\n                    }\n                    </tbody>\n                </table>\n            )\n        }else{\n            return null\n        }\n    }\n}\n\nexport default Colors;\n","import React, { Component } from 'react';\nimport './Configuration.css'\nimport Colors from './Colors'\nimport LargeImage from '../Templates/Large'\nimport SmallImage from '../Templates/Small'\n\nclass Configuration extends Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            fontFamily: props.fontFamily || \"\"\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(this.props.fontFamily !== prevProps.fontFamily){\n            this.setState(Object.assign(this.state, {\n                fontFamily: this.props.fontFamily\n                }\n            ));\n        }\n    }\n\n    onFontFamilyChange = (event) => {\n        event.preventDefault();\n        this.props.onFontFamilyChange( event.target.value);\n    }\n\n    render(){\n            return (\n                <div className=\"configuration\">\n                    <h1>{this.props.title}</h1>\n                    <section>\n                        <h2>Font</h2>\n                        <form onSubmit={(event)=>{event.preventDefault();}}>\n                            <input id=\"font-family\" type=\"text\" list=\"font-list\"\n                                onChange={this.onFontFamilyChange}\n                                value={this.state.fontFamily}\n                            />\n                            <datalist id=\"font-list\">\n                                {[\n                                    \"Arial\",\n                                    \"Arial Black\",\n                                    \"Book Antiqua\",\n                                    \"Charcoal\",\n                                    \"Comic Sans MS\",\n                                    \"Courier New\",\n                                    \"Courier\",\n                                    \"Gadget\",\n                                    \"Geneva\",\n                                    \"Georgia\",\n                                    \"Impact\",\n                                    \"Helvetica\",\n                                    \"Lucida Grande\",\n                                    \"Lucida Sans Unicode\",\n                                    \"Lucida Console\",\n                                    \"Monaco\",\n                                    \"Palatino\",\n                                    \"Palatino Linotype\",\n                                    \"Tahoma\",\n                                    \"Times New Roman\",\n                                    \"Times\",\n                                    \"Trebuchet MS\",\n                                    \"Verdana\",\n                                    \"cursive\",\n                                    \"monospace\",\n                                    \"serif\",\n                                    \"sans-serif\",\n                                ].map(p =>\n                                    <option key={p} value={p}/>\n                                )}\n                            </datalist>\n                        </form>\n                    </section>\n                    <section>\n                        <h2>Template</h2>\n                        <form className=\"template\">\n                        <input type=\"radio\" name=\"layout\" id=\"layout_small\" value=\"small\"\n                         checked={this.props.template === \"small\"}\n                         onChange={(event) => this.props.onChange( event.target.value)} />\n                        <label htmlFor=\"layout_small\" className=\"preview\">\n                            <i>Small</i>\n                            <br/>\n                            <SmallImage\n                                file=\"{sequence, action, periode, fx, url, color, colorDistribution, onTile}\"\n                                onTile={()=>{}}\n                            />\n                        </label>\n                        <input type=\"radio\" name=\"layout\" id=\"layout_large\" value=\"large\"\n                        checked={this.props.template === \"large\"}\n                        onChange={(event) => this.props.onChange( event.target.value)} />\n                        <label htmlFor=\"layout_large\"  className=\"preview\">\n                            <i>Large</i>\n                            <br/>\n                            <LargeImage\n                                file=\"{sequence, action, periode, fx, url, color, colorDistribution}\"\n                                onTile={()=>{}}\n                            />\n\n                        </label>\n                        </form>\n                    </section>\n\n                    <section>\n                        <h2>Colors</h2>\n                        <div className=\"colors\" >\n                            <input id=\"color-distribution\" type=\"checkBox\"\n                            onChange={(event) => this.props.onColorDistributionChange( event.target.checked)}/>\n                            <label htmlFor=\"color-distribution\">Background color</label>\n                        </div>\n                        <Colors className=\"colors\" colors={this.props.colors} onColorChange={ this.props.onColorChange }/>\n                    </section>\n                </div>\n            )\n        }\n}\n\nexport default Configuration;\n","import React, { Component } from 'react';\n\nclass TemplateFactory extends Component{\n\n    renderImage(){\n        if(this.props.type){\n            switch (this.props.type) {\n                case 'small':\n                    let Small = require('./Small').default\n                    return React.createElement(Small, {file: this.props.file, onTile: this.props.onTile})\n                case 'large':\n                    let Large = require('./Large').default\n                    return React.createElement(Large, {file: this.props.file, onTile: this.props.onTile})\n                default:\n                    return null;\n            }\n        }\n    }\n    render() {\n        return this.renderImage()\n    }\n}\n\nexport default TemplateFactory\n","import React from 'react';\n\nimport TemplateFactory from '../Templates/Factory'\nimport './Tiles.css'\n\nexport default function Tiles(props){\n    let type = props.type \n    if(props.value){\n        const images = props.value.map((image) => {\n            let i\n            if(image.place){\n                i = Object.assign(image, {\n                    color: props.colors[image.place],\n                    colorDistribution: props.colorDistribution ? \"full\" : \"limited\"\n                })\n            }else{\n                i= image\n            }\n            return (\n                <TemplateFactory key={image.id} type={type} file={i} onTile={data => props.onTile(data)}/>\n            );\n        })\n        return (\n            <div className=\"tiles-container\" style={{fontFamily:props.fontFamily}}>{images}</div>\n        )\n    }else{\n        return null\n    }\n\n}\n","import React, { Component } from 'react';\nimport './Form.css'\n\n\nclass Form extends Component{\n    state = {}\n\n componentDidMount(){\n   document.addEventListener(\"keydown\", this.escFunction, false);\n }\n componentWillUnmount(){\n   document.removeEventListener(\"keydown\", this.escFunction, false);\n }\n\n escFunction = (event) =>{\n   if(event.keyCode === 27) {\n     this.close(event)\n   }\n }\n\n      handleSubmit = (event) => {\n        event.preventDefault();\n        this.props.onSave(this.mergePropsWithState())\n        this.close()\n    }\n\n      handleInputChange = (event) => {\n       const target = event.target;\n       const value = target.type === 'checkbox' ? target.checked : target.value;\n       const name = target.name;\n       let data = this.state.data ===  undefined ? {} : this.state.data\n       this.setState(state => {\n           return {\n               data : Object.assign(\n                   data,\n                   {[name]: value}\n               )\n           }\n     });\n\n     }\n\n    close = (event) => {\n        this.setState({data: undefined}, () => console.log(this.state))\n        this.props.onCancel()\n    }\n\n   handleClose = (event) => {\n       event.preventDefault()\n       this.close()\n   }\n\n    mergePropsWithState(){\n        const fromState  = this.state.data === undefined ? {} : this.state.data\n        const fromProps  = this.props.data === undefined ? {} : this.props.data\n        return Object.assign({}, fromProps, fromState)\n    }\n\n    render(){\n        if(this.props.data !== undefined){\n\n        const {sequence, action, periode, place, fx, url} = this.mergePropsWithState()\n        const places = Object.keys(this.props.colors === undefined ? {} : this.props.colors).sort()\n        return (\n\n            <div className={\"modal\" + (this.props.data ? \" display\" : \"\")} onClick={ this.close }>\n            <form id=\"form\" className={\"modal-content group \"} onSubmit={this.handleSubmit} onClick={(event) => event.stopPropagation()}>\n                <input id=\"form-id\" type=\"hidden\" name=\"id\" defaultValue={sequence} onChange={this.handleInputChange}/>\n                <img id=\"form-img\" src={url} alt=\"Photogram\"/>\n                <div id=\"form-meta-datas\">\n                    <input id=\"form-sequence\" name=\"sequence\" placeholder=\"sequence\" defaultValue={sequence} onChange={this.handleInputChange}/>\n                    <label htmlFor=\"place\">Place</label>\n                    <input id=\"place\" list=\"country-list\" name=\"place\" placeholder=\"Place\" value={place} onChange={this.handleInputChange} />\n                    <datalist id=\"country-list\">\n                        {places.map(p =>\n                            <option key={p} value={p}/>\n                        )}\n                    </datalist>\n                    <label htmlFor='periode'>Periode</label>\n                    <select id=\"periode\" name=\"periode\" defaultValue={periode} onChange={this.handleInputChange}>\n                        <option value=\"\">None</option>\n                        <option value=\"matin\">Morning</option>\n                        <option value=\"soir\">Evening</option>\n                        <option value=\"jour\">Day</option>\n                        <option value=\"nuit\">Night</option>\n                    </select>\n                    <label htmlFor='fx'>Fx</label>\n                    <input id=\"fx\" name=\"fx\" type=\"checkbox\" checked={fx} onChange={this.handleInputChange}/>\n                </div>\n                <textarea id=\"form-action\" name=\"action\" placeholder=\"action\" rows=\"4\" onChange={this.handleInputChange} value={action}></textarea>\n                <button type=\"submit\" className=\"md-button\">Save</button>\n                <button type=\"button\" className=\"md-button\" id=\"form-close\" onClick={this.handleClose}>Close</button>\n            </form>\n            </div>\n        )\n    }else{\n        return (\n            <div className={\"modal\"}/>\n        )\n    }\n    }\n}\n\nexport default Form;\n","import React, { Component } from 'react';\nimport Repository from '../Data';\nimport Configuration from './Configuration'\nimport Tiles from './Tiles'\nimport Form from './Form'\nimport '../styles.css'\nimport './index.css'\n\nclass Project extends Component{\n    constructor(props){\n      super(props);\n      this.repository = new Repository()\n      this.state= {\n        project: {},\n        template: \"small\"\n      };\n    }\n\n    componentDidMount(){\n        this.loadData()\n    }\n\n    loadData(){\n        this.repository.get(this.props.match.params.id)\n        .then((project) => {\n            if(project.template === undefined){\n                project.template = \"small\"\n            }\n            this.setState(Object.assign(this.state, {project: project}))\n        }).catch(e => console.log(e))\n    }\n\n    render(){\n        return (\n            <div>\n                <Form\n                    data={this.state.data}\n                    colors={this.state.project.colors}\n                    onCancel={() => this.setState(Object.assign(this.state, {data: undefined}))}\n                    onSave={data => this.repository.update(this.props.match.params.id, data).then(() => this.loadData())}\n                />\n                <div className=\"layout-parent\">\n                <div className=\"layout-left\">\n                    <Tiles\n                        colorDistribution={this.state.color_distribution}\n                        colors={this.state.project.colors}\n                        value={this.state.project.data}\n                        type={this.state.project.template}\n                        fontFamily={this.state.project.fontFamily}\n                        onTile={data => this.setState(Object.assign(this.state, {data: data}))}/>\n                        </div>\n\n                    <Configuration\n                        title={this.state.project.name}\n                        colors={this.state.project.colors}\n                        template={this.state.project.template}\n                        fontFamily={this.state.project.fontFamily}\n                        onChange={template => this.repository.updateTemplate(this.props.match.params.id, template).then(() => this.loadData())}\n                        onColorChange={color => this.repository.updateColor(this.props.match.params.id, color).then(() => this.loadData())}\n                        onColorDistributionChange={full => this.setState(Object.assign(this.state, {color_distribution: full}))}\n                        onFontFamilyChange={fontFamily => this.repository.updateFontFamily(this.props.match.params.id, fontFamily).then(() => this.loadData())}\n                    />\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Project;\n","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Landing from './Landing';\nimport Project from './Project';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n        <Router>\n          <div className=\"App\">\n            <Route exact path=\"/\" component={Landing} />\n            <Route path=\"/project/:id\" component={Project} />\n          </div>\n        </Router>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './customServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","export function register() {if ('serviceWorker' in navigator) {\n      window.addEventListener('load', function() {\n\n        navigator.serviceWorker.register('/image-worker.js').then(function(registration) {\n          // Registration was successful\n          console.log('ServiceWorker registration successful with scope: ', registration.scope);\n        }, function(err) {\n          // registration failed :(\n          console.log('ServiceWorker registration failed: ', err);\n      });\n      });\n    }\n}\n","import React, { Component } from 'react';\nimport './Container.css'\nclass Container extends Component{\n\n    render(){\n        let backgroundColor\n        if(this.props.colorDistribution === \"full\"){\n            backgroundColor= this.props.color\n        }else{\n            backgroundColor= null\n        }\n        return (\n            <div className={`ele ${this.props.className}`} style={{backgroundColor: backgroundColor}} onClick={this.props.onClick}>\n                {this.props.children}\n            </div>\n        )\n    }\n}\n\nexport default Container;\n","import React, { Component } from 'react';\nimport './Sequence.css'\nclass Sequence extends Component{\n    render(){\n        const color = this.props.color\n        return (\n            <span className={`sequence ${color? 'sequence-colored' : ''}`} style={{'background': color}}>{this.props.value}</span>\n        )\n    }\n}\n\nexport default Sequence;\n","import React, { Component } from 'react';\nimport svgN from './weather-night.svg';\nimport svgJ from './weather-sunny.svg';\nimport svgM from './weather-sunset-up.svg';\nimport svgS from './weather-sunset-down.svg';\nimport svgNull from './weather-none.svg';\nimport '../dot.css'\nimport './index.css'\nclass Periode extends Component{\n    render(){\n        return (\n            <img\n                alt=\"period\"\n                className={`dot period ${this._periodeToClassName(this.props.value)}`}\n                src={this._periodeToSrc(this.props.value)}/>\n        )\n    }\n\n    _periodeToClassName(value) {\n        switch (this._toSingleLetter(value)) {\n            case \"m\":\n                return \"dot-light\";\n            case \"s\":\n                return \"dot-dark\";\n            case \"j\":\n                return \"dot-lighter\";\n            case \"n\":\n                return \"dot-darker\";\n            default:\n                return \"hide\";\n\n        }\n    }\n\n    _periodeToSrc(value) {\n        switch (this._toSingleLetter(value)) {\n            case \"m\":\n                return svgM\n            case \"s\":\n                return svgS\n            case \"j\":\n                return svgJ\n            case \"n\":\n                return svgN\n            default:\n                return svgNull;\n\n        }\n    }\n\n    _toSingleLetter(value) {\n        return value === undefined || value.length === 0\n            ? undefined\n            : value.toLowerCase()[0];\n    }\n}\n\nexport default Periode;\n","import React, { Component } from 'react';\nimport './index.css'\nimport svgEmpty from './empty.svg';\nclass Fx extends Component{\n    render(){\n        const url = this.props.url\n        return (\n            <img className=\"img\" src={url ? url : svgEmpty} alt=\"photogram\" />\n        )\n    }\n}\n\nexport default Fx;\n","import React, { Component } from 'react';\nimport svgFx from './auto-fix.svg';\nimport '../dot.css'\nimport './index.css'\nclass Fx extends Component{\n    render(){\n        return (\n            <img className={`dot dot-green fx ${this.props.value ? '' : 'hide'}`} src={svgFx} alt=\"special effects indicator\"/>\n        )\n    }\n}\n\nexport default Fx;\n","export default class {\n    constructor(min, max){\n        this.min = min\n        this.max = max\n    }\n    \n    apply(node){\n        node.style.fontSize = this.max + 'rem';\n        if (this._hasOverflow(node.parentNode)) {\n            node.style.fontSize = this.min + 'rem';\n            if (!this._hasOverflow(node.parentNode)) {\n                this._recApplyFontSize(node, this.min, this.max);\n            }\n        }\n    }\n\n    _recApplyFontSize(node, minSize, maxSize) {\n        var halfSize = minSize + (maxSize - minSize) / 2;\n        node.style.fontSize = halfSize + 'rem';\n        if (this._hasOverflow(node.parentNode)) {\n            this._recApplyFontSize(node, minSize, halfSize);\n        } else {\n            if (maxSize - minSize > .05) {\n                this._recApplyFontSize(node, halfSize, maxSize);\n            }\n        }\n    }\n\n    _hasOverflow(node) {\n        return node.scrollHeight > node.clientHeight;\n    }\n}\n","import React, { Component } from 'react';\nimport FontSizeAdjuster from './FontSizeAdjuster'\nimport './Action.css'\nclass Action extends Component{\n\n    constructor(props){\n        super(props)\n        this.textNode = React.createRef();\n        this.fontSizeAdjuster = new FontSizeAdjuster(.2, 2)\n    }\n\n    componentDidUpdate( prevProps,  prevState){\n        this.fontSizeAdjuster.apply(this.textNode.current)\n    }\n\n    componentDidMount(){\n        this.fontSizeAdjuster.apply(this.textNode.current)\n    }\n\n    render(){\n        return (\n        <div className=\"action-container\">\n            <p className=\"action\" ref={this.textNode}>{this.props.value}</p>\n        </div>\n        )\n    }\n}\n\nexport default Action;\n","import React, { Component } from 'react';\nimport Container from '../Container';\nimport Sequence from '../Sequence';\nimport Period from '../Period';\nimport Action from '../Action';\nimport Image from '../Image'\nimport Fx from '../Fx';\nimport './index.css';\nclass LargeImage extends Component{\n\n    handleClick = () => {\n        this.props.onTile(this.props.file)\n    }\n\n    render(){\n        const {sequence, action, periode, fx, url, color, colorDistribution} = this.props.file\n\n        return (\n            <Container className=\"tpl-large\" color={color} colorDistribution={colorDistribution}\n                onClick={this.handleClick}>\n                <Image url={url}/>\n                <div className=\"legend\">\n                    <div className=\"indicators\">\n                        <Sequence color={color} value={sequence}/>\n                        <Period value={periode}/>\n                        <Fx value={fx}/>\n                    </div>\n                    <Action value={action}/>\n                </div>\n            </Container>\n        )\n    }\n}\n\nexport default LargeImage;\n","import React, { Component } from 'react';\nimport Container from '../Container';\nimport Sequence from '../Sequence';\nimport Period from '../Period';\nimport Action from '../Action';\nimport Image from '../Image'\nimport Fx from '../Fx';\nimport './index.css';\nclass SmallImage extends Component{\n\n    handleClick = () => {\n        this.props.onTile(this.props.file)\n    }\n\n    render(){\n        const {sequence, action, periode, fx, url, color, colorDistribution} = this.props.file\n        return (\n            <Container className=\"tpl-small\" color={color} colorDistribution={colorDistribution} onClick={this.handleClick}>\n                <Image url={url}/>\n                <div className=\"legend\">\n                    <div className=\"indicators\">\n                        <Sequence color={color} value={sequence}/>\n                        <Period value={periode}/>\n                        <Fx value={fx}/>\n                    </div>\n                    <Action value={action}/>\n                </div>\n            </Container>\n        )\n    }\n}\n\nexport default SmallImage;\n"],"sourceRoot":""}